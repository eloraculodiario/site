<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reserva — El oráculo diario</title>
  <meta name="description" content="Reserva tu lectura de tarot: sesiones de 60/30/20 minutos o lectura de 1 pregunta. Elige fecha, hora y formato.">
  <meta name="theme-color" content="#7c3aed">

  <!-- Tailwind opcional (utilidades) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">

  <!-- Estilos globales -->
  <link rel="stylesheet" href="assets/style.css">

  <!-- Favicon -->
  <link rel="icon" href="assets/favicon.png">
</head>
<body>
  <!-- Header insertado automáticamente -->
  <div data-include="partials/header.html"></div>

  <main class="container" style="padding:2rem 0;">
    <h1 class="text-3xl md:text-4xl font-bold leading-tight mb-4">Reserva tu lectura</h1>
    <p class="muted mb-6">
      Selecciona la duración o tipo de lectura, elige fecha y hora, y completa tu reserva de forma segura.
      Puedes compartir un enlace directo a una pestaña, por ejemplo
      <code class="muted">/reserva.html#t30</code>.
    </p>

    <!-- Pestañas -->
    <div class="mt-6">
      <div id="tabs" class="flex flex-wrap gap-2" role="tablist" aria-label="Tipos de reserva">
        <button data-tab="t60" class="btn btn-ghost" role="tab" aria-controls="t60" aria-selected="true">60 min</button>
        <button data-tab="t30" class="btn btn-ghost" role="tab" aria-controls="t30" aria-selected="false">30 min</button>
        <button data-tab="t20" class="btn btn-ghost" role="tab" aria-controls="t20" aria-selected="false">20 min</button>
        <button data-tab="t1q" class="btn btn-ghost" role="tab" aria-controls="t1q" aria-selected="false">1 pregunta</button>
      </div>

      <div class="mt-6">
        <!-- 60 min -->
        <section id="t60" class="tab" role="tabpanel" tabindex="0" aria-labelledby="tab-t60">
          <div class="embed">
            <iframe
              src="https://cal.com/jose-luis-infantes-molina-uyb26l/lectura-tarot-1-hora?embed=true"
              width="100%" height="1000" frameborder="0" scrolling="auto">
            </iframe>
          </div>
        </section>

        <!-- 30 min -->
        <section id="t30" class="tab hidden" role="tabpanel" tabindex="0" aria-labelledby="tab-t30">
          <div class="embed">
            <iframe
              src="https://cal.com/jose-luis-infantes-molina-uyb26l/lectura-tarot-30-minutos?embed=true"
              width="100%" height="1000" frameborder="0" scrolling="auto">
            </iframe>
          </div>
        </section>

        <!-- 20 min -->
        <section id="t20" class="tab hidden" role="tabpanel" tabindex="0" aria-labelledby="tab-t20">
          <div class="embed">
            <iframe
              src="https://cal.com/jose-luis-infantes-molina-uyb26l/lectura-tarot-20-minutos?embed=true"
              width="100%" height="1000" frameborder="0" scrolling="auto">
            </iframe>
          </div>
        </section>

        <!-- 1 pregunta -->
        <section id="t1q" class="tab hidden" role="tabpanel" tabindex="0" aria-labelledby="tab-t1q">
          <div class="embed">
            <iframe
              src="https://cal.com/jose-luis-infantes-molina-uyb26l/1-pregunta?embed=true"
              width="100%" height="1000" frameborder="0" scrolling="auto">
            </iframe>
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- Footer insertado automáticamente -->
  <div data-include="partials/footer.html"></div>

  <!-- Script de pestañas con soporte de hash -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tabs = document.querySelectorAll('#tabs [data-tab]');
      const panes = document.querySelectorAll('.tab');

      function setActive(id) {
        // Mostrar/ocultar paneles
        panes.forEach(p => p.classList.add('hidden'));
        const activePane = document.getElementById(id);
        if (activePane) activePane.classList.remove('hidden');

        // Estilos de botones y aria
        tabs.forEach(b => {
          b.classList.remove('btn-primary');
          b.setAttribute('aria-selected', 'false');
        });
        const btn = document.querySelector(`#tabs [data-tab="${id}"]`);
        if (btn) {
          btn.classList.add('btn-primary');
          btn.setAttribute('aria-selected', 'true');
        }
      }

      // Click en pestañas
      tabs.forEach(btn => btn.addEventListener('click', () => {
        const id = btn.dataset.tab;
        // Actualiza hash para enlaces compartibles
        if (history.pushState) {
          history.pushState(null, '', '#' + id);
        } else {
          location.hash = id;
        }
        setActive(id);
      }));

      // Activación por hash (enlace directo) y cambios de hash
      function activateFromHash() {
        const hash = (location.hash || '').replace('#', '');
        const valid = ['t60','t30','t20','t1q'];
        setActive(valid.includes(hash) ? hash : 't60');
      }
      window.addEventListener('hashchange', activateFromHash);

      // Inicial
      activateFromHash();
    });
  </script>

  <!-- Script para insertar header/footer -->
  <script src="assets/site.js"></script>
</body>
</html>

