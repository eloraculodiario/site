<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Reservar Lectura - El oráculo diario</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/calendario.css">
</head>
<body>
  <div data-include="partials/header.html"></div>

  <main class="container" style="padding:2rem 0;">
    <!-- Paso 1: Selección de servicio -->
    <section id="paso-servicio" class="max-w-4xl mx-auto">
      <h1 class="text-3xl font-bold mb-6">Reserva tu lectura</h1>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
        <div class="card servicio-card" data-servicio="60min" data-precio="45">
          <h3>60 minutos</h3>
          <p class="text-xl font-bold my-2">45€</p>
          <p class="text-sm muted">Lectura completa</p>
        </div>
        <div class="card servicio-card" data-servicio="30min" data-precio="25">
          <h3>30 minutos</h3>
          <p class="text-xl font-bold my-2">25€</p>
          <p class="text-sm muted">Dos áreas específicas</p>
        </div>
        <div class="card servicio-card" data-servicio="20min" data-precio="15">
          <h3>20 minutos</h3>
          <p class="text-xl font-bold my-2">15€</p>
          <p class="text-sm muted">Una cuestión puntual</p>
        </div>
        <div class="card servicio-card" data-servicio="1pregunta" data-precio="10">
          <h3>1 Pregunta</h3>
          <p class="text-xl font-bold my-2">10€</p>
          <p class="text-sm muted">Respuesta clara</p>
        </div>
        <div class="card servicio-card" data-servicio="2preguntas" data-precio="18">
          <h3>2 Preguntas</h3>
          <p class="text-xl font-bold my-2">18€</p>
          <p class="text-sm muted">Temas complementarios</p>
        </div>
        <div class="card servicio-card" data-servicio="3preguntas" data-precio="25">
          <h3>3 Preguntas</h3>
          <p class="text-xl font-bold my-2">25€</p>
          <p class="text-sm muted">Visión general</p>
        </div>
      </div>

      <button id="btn-continuar" class="btn btn-primary hidden" onclick="siguientePaso()">
        Continuar a fechas disponibles
      </button>
    </section>

    <!-- Paso 2: Selección de fecha y hora -->
    <section id="paso-fecha" class="max-w-4xl mx-auto hidden">
      <h2 class="text-2xl font-bold mb-6">Elige fecha y hora</h2>
      
      <div class="grid md:grid-cols-2 gap-8">
        <!-- Calendario -->
        <div class="card">
          <h3 class="font-bold mb-4">Selecciona una fecha</h3>
          <div id="calendario" class="calendario-grid">
            <!-- Se genera con JavaScript -->
          </div>
        </div>

        <!-- Horarios disponibles -->
        <div class="card">
          <h3 class="font-bold mb-4">Horarios disponibles</h3>
          <div id="horarios" class="grid grid-cols-2 gap-2">
            <!-- Se genera con JavaScript -->
          </div>
        </div>
      </div>

      <div class="mt-6 flex gap-4">
        <button class="btn btn-ghost" onclick="anteriorPaso()">← Atrás</button>
        <button id="btn-confirmar-fecha" class="btn btn-primary hidden" onclick="siguientePaso()">
          Confirmar fecha y hora
        </button>
      </div>
    </section>

    <!-- Paso 3: Datos de contacto -->
    <section id="paso-datos" class="max-w-2xl mx-auto hidden">
      <h2 class="text-2xl font-bold mb-6">Tus datos</h2>
      
      <form id="formulario-reserva" class="space-y-4">
        <div>
          <label class="block mb-2 font-semibold">Nombre completo *</label>
          <input type="text" name="nombre" required 
                 class="w-full border border-gray-300 rounded-lg px-4 py-3">
        </div>

        <div>
          <label class="block mb-2 font-semibold">Email *</label>
          <input type="email" name="email" required 
                 class="w-full border border-gray-300 rounded-lg px-4 py-3">
        </div>

        <div>
          <label class="block mb-2 font-semibold">Teléfono (opcional)</label>
          <input type="tel" name="telefono" 
                 class="w-full border border-gray-300 rounded-lg px-4 py-3">
        </div>

        <div>
          <label class="block mb-2 font-semibold">Formato preferido *</label>
          <select name="formato" required class="w-full border border-gray-300 rounded-lg px-4 py-3">
            <option value="">Selecciona formato</option>
            <option value="videollamada">Videollamada</option>
            <option value="voz">Solo voz</option>
            <option value="chat">Chat escrito</option>
          </select>
        </div>

        <div>
          <label class="block mb-2 font-semibold">Temas o preguntas (opcional)</label>
          <textarea name="temas" rows="3" 
                    placeholder="Puedes contarme brevemente sobre lo que quieres consultar..."
                    class="w-full border border-gray-300 rounded-lg px-4 py-3"></textarea>
        </div>

        <div class="flex gap-4 mt-6">
          <button type="button" class="btn btn-ghost" onclick="anteriorPaso()">← Atrás</button>
          <button type="submit" class="btn btn-primary">Continuar al pago</button>
        </div>
      </form>
    </section>
  </main>

  <script src="assets/reservas.js"></script>
  <script src="assets/site.js"></script>
</body>
</html>
